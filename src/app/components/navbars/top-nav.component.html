<nav class="navbar navbar-default  navbar-static-top" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <a class="navbar-brand" routerLink="/home"><img [src] = "logoImg" style= "padding-left: 20px; width: 100px"></a>
  </div>
  <div class="col-sm-3 col-md-3"  *ngIf= "currentUser != null">
    <form class="navbar-form" role="search" style = "padding-left: 55px">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Search"  #search >
        <div class="input-group-btn">
          <button class="btn btn-default green"(click)="enterSearch(search.value)">
            <i class="glyphicon glyphicon-search"></i></button>
        </div>
      </div>
    </form>
  </div>

  <!-- User settings section -->
  <div class="col-sm-7" *ngIf= "currentUser != null">
    <ul class="nav navbar-nav navbar-right">
      <li class = "green" *ngIf= "currentUser.isPremium == false">
        <a href="" class ="upgrade animated-button green-effect"
           data-toggle="modal" data-target="#upgrade">UPGRADE</a>
      </li>
      <li><img [src] = "currentUser.profilePicture" data-toggle="modal" data-target="#profImg"
               class = "prof-img" style="padding: 5px; width:50px"></li>
      <li class = "green"><a routerLink="/user/{{currentUser.id}}">{{currentUser.name}}</a></li>
      <li>
        <div class="dropdown">
          <i class="arrow fa fa-chevron-down dropdown-toggle" data-toggle="dropdown" style = "padding-right: 10px"></i>
          <ul class="dropdown-menu">
            <li data-toggle="modal" data-target="#accSettings" id="one"><a href="#" class="link">Account Info</a></li>
            <li><a href="#" class="link">Settings</a></li>
            <li><a href="#" class="link" (click)="logout()">Logout</a></li>
          </ul>
        </div>

      </li>
    </ul>
  </div>
</nav>

<!-- Account settings Modal --------------------------------------------------------------------->

<!-- Modal -->
<div id="accSettings" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Account Information</h4>
      </div>
      <div class="modal-body">

        <ul class="nav nav-tabs"id="tabContent">
          <li class="active"><a href="#info" data-toggle="tab">Account Info</a></li>
          <li><a href="#security" data-toggle="tab">Security</a></li>
        </ul>


        <div class="tab-content">
          <div class="tab-pane" id="info">
            First Name
            Last Name
          </div>
        </div>

        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

<!-- Change Image Modal --------------------------------------------------------------------->

<!-- Modal -->
<div id="profImg" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Change Profile Image</h4>
      </div>
      <div class="modal-body" align="center">


        <img *ngIf="currentUser != null" [src]= "currentUser.profilePicture" width="200" height="200">
        <!--<img *ngIf="currentUser != null" [src]="currentUser.profilePicture">-->

        <form method="post" enctype="multipart/form-data">
        <input type="file" class="chooseImg" id="myImage" name="myImage"
               (change)="onChange($event)"
               #myImage accept="image/x-png,image/gif,image/jpeg"/><br>
        <label for= "myImage" class="choose expand-effect"(onchange) = "setImg(myImage.files)">
          Choose an image</label>
        </form>
        <button type="button" class="choose expand-effect"  data-dismiss="modal">Reset to Default</button>

        <div align="center">
          <button type="button" class="cancel expand-effect"  data-dismiss="modal">Cancel</button>
          <button type="submit" class="create expand-effect" (onclick) = setImg(newImg.value)>Save</button>
        </div>


      </div>
    </div>

  </div>
</div>

<!-- Upgrade Modal --------------------------------------------------------------------->

<!-- Modal -->
<div id="upgrade" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4>Upgrade to Premium</h4>
      </div>

      <div class="modal-body">

        <div align="center">
          <img [src]="ccardImg" width="80%" align="center"><br>
        </div>

        <i class="fa fa-angle-double-right"></i>
        Card Number
        <input id="ccard" type="text" class="form-control input_layout credit"
               name="ccard" placeholder="1111 2222 3333 4444"
                style="margin:10px 0px; width:98%"><br><br>

        <table cellspacing="0" cellpadding="0" width="100%">
          <tr>
            <td>
              <i class="fa fa-angle-double-right"></i>
            Expiry date<br>
            <form role="form" method="post" class="combobox" style="margin:10px 0px">
              <div class="form-group">
                <select class="input-large form-control">
                  <option selected="selected">Select a Month</option>
                  <option value="1">01</option>
                  <option value="2">02</option>
                  <option value="3">03</option>
                  <option value="4">04</option>
                  <option value="5">05</option>
                  <option value="6">06</option>
                  <option value="7">07</option>
                  <option value="8">08</option>
                  <option value="9">09</option>
                  <option value="9">10</option>
                  <option value="9">11</option>
                  <option value="9">12</option>
                </select>
              </div>
            </form>
            </td>
            <td>
              <br>

              <form role="form" method="post" class="combobox" style="margin:10px 0px">
                <div class="form-group">
                  <select class="input-large form-control">
                    <option selected="selected">Select a Year</option>
                    <option *ngFor="let i of monthYear">{{i}}</option>
                  </select>
                </div>
              </form>
            </td>
          </tr>
        <tr>
          <td>
            <i class="fa fa-angle-double-right"></i>
            Security code<br>
            <input id="security" type="text" class="form-control input_layout combobox"
                   name="security" style="margin:10px 0px">
          </td>
          <td>
            <i class="fa fa-angle-double-right"></i>
            Zip Code<br>
            <input id="zip" type="text" class="form-control input_layout combobox"
                   name="zip" style="margin:10px 0px" placeholder="11111">
          </td>
        </tr>
        </table>
        <div class="disclaimer-box">
          <p align="left" class="disclaimer">
          "By purchasing, you authorize Amplio to charge you $9.99 + applicable tax for a 3-month trial.
          <b>If you don’t cancel before the trial ends, you authorize Amplio to automatically charge you $9.99 +
            applicable tax each month until you cancel.</b> If the price changes, we’ll notify you beforehand.
          You can check your trial end date or cancel anytime via your Account page. No partial refunds.
          Terms apply."
          </p>
        </div>

  <div align="center">
        <button type="submit" formmethod="post" class="create expand-effect">START AMPLIO PREMIUM</button>
  </div>

      </div>
    </div>

  </div>
</div>
